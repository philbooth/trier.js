!function(n){"use strict";function t(n){function t(){u()&&e()}function u(){return i("when",t)}function i(t,r){return!g(n,t)||(x(n),h(n)?v(n):A(r,b(n)),!1)}function e(){if(d(n))return j(n),o();j(n,o)}function o(){i("until",e)&&w(n)}n=r(n),t()}function r(n){return n=n||{},{count:0,when:u(n.when),until:u(n.until),action:o(n.action),fail:o(n.fail),pass:o(n.pass),interval:a(n.interval,-1e3),limit:a(n.limit,-1),context:s(n.context),args:m(n.args)}}function u(n){return f(n,i,e)}function i(n){return"function"==typeof n}function e(){return!0}function o(n){return f(n,i,c)}function c(){}function f(n,t,r){return t(n)?n:r}function a(n,t){return f(n,l,t)}function l(n){return"number"==typeof n&&n===n}function s(n){return f(n,p,{})}function p(n){return"object"==typeof n&&null!==n&&!1===y(n)}function y(n){return Array.isArray?Array.isArray(n):"[object Array]"===Object.prototype.toString.call(n)}function m(n){return f(n,y,[])}function d(n){return 0===n.action.length}function g(n,t){return!n[t].apply(n.context,n.args)}function x(n){n.count+=1}function h(n){return n.limit>=0&&n.count>=n.limit}function v(n){n.fail.apply(n.context,n.args)}function b(n){var t=n.interval;return n.interval<0&&(n.interval*=2),t}function A(n,t){setTimeout(n,Math.abs(t))}function j(n,t){n.action.apply(n.context,t?n.args.concat(t):n.args)}function w(n){n.pass.apply(n.context,n.args)}"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof module&&null!==module?module.exports=t:n.tryer=t}(this);